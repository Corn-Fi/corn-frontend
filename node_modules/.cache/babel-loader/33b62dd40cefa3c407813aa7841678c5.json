{"ast":null,"code":"import { ethers } from \"ethers\";\nimport React, { useEffect, useState } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { addresses } from \"../config/addresses\";\nimport { nftABI } from \"../config/abis\";\nimport { nftURI } from \"../config/uri\";\nimport axios from \"axios\"; //get signer\n//connect signer to contract\n\nexport const writeContract = async (active, _provider, _account, _address, _abi) => {\n  if (active) {\n    try {\n      const ctr = new ethers.Contract(_address, _abi, _provider);\n\n      if (ctr.address) {\n        return ctr;\n      } else {\n        console.log(\"Contract failed to load, refresh signer\");\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n};\nexport const userMint = async (_nftContract, recipient, _tokenURI) => {\n  const ctr = _nftContract;\n\n  try {\n    const mint = await ctr.mintNFT(recipient, _tokenURI);\n    return mint;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst getNFTData = async () => {\n  const data = axios.get(nftURI).then(value => {\n    return value;\n  });\n}; //staking stuff\n\n\nexport const userStake = async (_masterchef, pid, amount) => {\n  const ctr = _masterchef;\n\n  try {\n    const strAmount = amount.toString();\n    const strPid = pid.toString();\n    console.log(strAmount);\n    const bnAmount = ethers.utils.parseUnits(strAmount, \"ether\");\n    const bnPid = ethers.utils.parseUnits(strPid, \"wei\");\n    console.log(bnAmount);\n    await ctr.deposit(strPid, strAmount);\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport function StringToFixedDecimal(num, fixed) {\n  try {\n    var re = new RegExp('^-?\\\\d+(?:\\.\\\\d{0,' + (fixed || -1) + '})?');\n    return num.toString().match(re)[0];\n  } catch (err) {\n    console.log(err);\n    return \"0\";\n  }\n}\n_c = StringToFixedDecimal;\n\nvar _c;\n\n$RefreshReg$(_c, \"StringToFixedDecimal\");","map":{"version":3,"sources":["/Users/nolanterry/Desktop/CORNLIMITFRONTEND/cornfrontend/src/utils/nft.js"],"names":["ethers","React","useEffect","useState","useWeb3React","addresses","nftABI","nftURI","axios","writeContract","active","_provider","_account","_address","_abi","ctr","Contract","address","console","log","err","userMint","_nftContract","recipient","_tokenURI","mint","mintNFT","getNFTData","data","get","then","value","userStake","_masterchef","pid","amount","strAmount","toString","strPid","bnAmount","utils","parseUnits","bnPid","deposit","StringToFixedDecimal","num","fixed","re","RegExp","match"],"mappings":"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","sourcesContent":["import {ethers} from \"ethers\";\nimport React, {useEffect, useState} from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { addresses } from \"../config/addresses\";\nimport {nftABI} from \"../config/abis\";\nimport {nftURI} from \"../config/uri\";\nimport axios from \"axios\"\n\n//get signer\n\n\n//connect signer to contract\n\n\nexport const writeContract = async (active, _provider, _account, _address, _abi) => {\n    if (active) {\n        try {\n            const ctr = new ethers.Contract(_address, _abi, _provider)\n            if (ctr.address) {\n                return ctr\n            } else {\n                console.log(\"Contract failed to load, refresh signer\")\n            }\n        } catch (err) {console.log(err)}\n    }\n}\n\n\n\nexport const userMint = async (_nftContract, recipient, _tokenURI) => {\n    const ctr = _nftContract;\n    try {\n        const mint = await ctr.mintNFT(recipient, _tokenURI)\n        return mint\n    } catch (err) {console.log(err)}\n}\n\n\nconst getNFTData = async () => {\n    const data = axios.get(nftURI)\n    .then(value => {\n        return value\n    })\n}\n\n\n//staking stuff\n\nexport const userStake = async (_masterchef, pid, amount) => {\n    const ctr = _masterchef;\n    try {\n        const strAmount = amount.toString();\n        const strPid = pid.toString();\n        console.log(strAmount)\n        const bnAmount = ethers.utils.parseUnits(strAmount, \"ether\");\n        const bnPid = ethers.utils.parseUnits(strPid, \"wei\")\n        console.log(bnAmount)\n        await ctr.deposit(strPid, strAmount);\n    } catch (err) {console.log(err)}\n\n}\n\nexport function StringToFixedDecimal(num, fixed) {\n    try {\n      var re = new RegExp('^-?\\\\d+(?:\\.\\\\d{0,' + (fixed || -1) + '})?');\n      return num.toString().match(re)[0];\n    } catch (err) {\n      console.log(err)\n      return \"0\"\n    }\n\n  }"]},"metadata":{},"sourceType":"module"}